<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview History - InterviewPrep</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="main.css"> <!-- Link to external CSS file -->
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark">
    <a class="navbar-brand" href="#">InterviewPrep</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item"><a class="nav-link" href="index.html">Interviews</a></li>
            <li class="nav-item"><a class="nav-link" href="plans.html">Plans</a></li>
            <li class="nav-item active"><a class="nav-link" href="history.html">History</a></li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a class="btn btn-outline-light mx-2" href="login.html">Login</a>
                <a class="btn btn-outline-light" href="#">Login with Google</a>
            </li>
        </ul>
    </div>
</nav>

<!-- Main Content -->
<div class="container my-5">
    <div class="text-center mb-4">
        <h2 class="text-primary text-secondary">Your Interview History</h2>
        <p class="text-muted">Track your completed interviews, feedback, and scores all in one place.</p>
    </div>

    <!-- Selected Filters Display -->
    <div class="row mb-3">
        <div class="col-12">
            <div id="selectedRoleFilters" class="mb-2"></div>
            <div id="selectedDateFilters" class="mb-2"></div>
        </div>
    </div>

    <!-- Filters Section -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle w-100" type="button" id="roleDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Filter by Role
                </button>
                <div class="dropdown-menu w-100 p-3" aria-labelledby="roleDropdown">
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox role-checkbox" type="checkbox" value="Data Scientist" id="roleDataScientist">
                        <label class="form-check-label" for="roleDataScientist">Data Scientist</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox role-checkbox" type="checkbox" value="Backend Developer" id="roleBackend">
                        <label class="form-check-label" for="roleBackend">Backend Developer</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox role-checkbox" type="checkbox" value="Frontend Developer" id="roleFrontend">
                        <label class="form-check-label" for="roleFrontend">Frontend Developer</label>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle w-100" type="button" id="dateDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Filter by Date
                </button>
                <div class="dropdown-menu w-100 p-3" aria-labelledby="dateDropdown">
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox date-checkbox" type="checkbox" value="Last Week" id="dateLastWeek">
                        <label class="form-check-label" for="dateLastWeek">Last Week</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox date-checkbox" type="checkbox" value="Last Month" id="dateLastMonth">
                        <label class="form-check-label" for="dateLastMonth">Last Month</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input filter-checkbox date-checkbox" type="checkbox" value="Last Year" id="dateLastYear">
                        <label class="form-check-label" for="dateLastYear">Last Year</label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- History List -->
    <div class="list-group shadow-sm">
        <div class="list-group-item d-flex justify-content-between align-items-center flex-wrap">
            <div>
                <h5 class="text-secondary">Data Scientist with Python</h5>
                <p class="mb-0"><strong>Date Completed:</strong> 2024-01-01</p>
            </div>
            <div class="text-right">
                <p class="mb-1"><strong>Feedback:</strong> Ready</p>
                <span class="badge badge-success p-2">Score: 90%</span>
                <a href="#" class="btn btn-outline-primary btn-sm">View Feedback</a>
            </div>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="bg-dark text-white text-center py-3">
    <p>&copy; 2024 InterviewPrep. All rights reserved.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    function updateSelectedFilters() {
        const roleFiltersContainer = document.getElementById("selectedRoleFilters");
        const dateFiltersContainer = document.getElementById("selectedDateFilters");

        const selectedRoles = Array.from(document.querySelectorAll(".role-checkbox:checked")).map(cb => cb.value);
        const selectedDates = Array.from(document.querySelectorAll(".date-checkbox:checked")).map(cb => cb.value);

        // Update Role Filters
        roleFiltersContainer.innerHTML = selectedRoles.length
            ? `<strong>Role:</strong> ${selectedRoles.map(role => `
                <span class="badge badge-primary mr-2">${role}
                    <span class="ml-1" style="cursor:pointer;" onclick="removeFilter('${role}', 'role-checkbox')">&times;</span>
                </span>`).join("")}`
            : "";

        // Update Date Filters
        dateFiltersContainer.innerHTML = selectedDates.length
            ? `<strong>Dates:</strong> ${selectedDates.map(date => `
                <span class="badge badge-primary mr-2">${date}
                    <span class="ml-1" style="cursor:pointer;" onclick="removeFilter('${date}', 'date-checkbox')">&times;</span>
                </span>`).join("")}`
            : "";
    }

    function removeFilter(value, className) {
        const checkbox = Array.from(document.querySelectorAll(`.${className}`)).find(cb => cb.value === value);
        if (checkbox) checkbox.checked = false;
        updateSelectedFilters();
    }

    document.querySelectorAll(".filter-checkbox").forEach(checkbox => {
        checkbox.addEventListener("change", updateSelectedFilters);
    });
</script>
</body>
</html>
